{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/Bike.js","webpack:///./src/js/Game.js","webpack:///./src/js/Keyboard.js","webpack:///./src/js/Playfield.js","webpack:///./src/js/UI.js","webpack:///./src/js/loaders.js","webpack:///./src/js/main.js","webpack:///./src/js/math.js"],"names":["Bike","color","speed","active","angle","Math","PI","rotation","x","y","leftTurnKey","mark","img","Image","src","push","length","shift","dx","cos","dy","sin","width","height","distance","sqrt","pow","ctx","j","i","beginPath","alpha","fillStyle","arc","fill","save","translate","rotate","drawImage","restore","endGame","all","fillRect","fillText","c","Game","playfield","bikes","input","laps","colors","listenTo","window","this_","animation","dead","end","render","cancelAnimationFrame","forEach","indexOf","bike","splice","draw","left","keyStates","get","move","checkLap","lapsLeft","checkCollsion","requestAnimationFrame","key","find","addKey","Keyboard","Map","assignedKeys","has","set","alert","e","code","preventDefault","keyState","type","addEventListener","eName","handleEvent","Playfield","canvas","urls","buffer","document","createElement","imgs","images","url","Promise","then","createBuffer","resolve","font","textAlign","getContext","grass","createPattern","dirt","finish","drawBackground","drawTrack","pattern","rect","bg","lineWidth","moveTo","lineTo","closePath","stroke","ui","getColor","el","playerNum","parentNode","className","split","game","addPlayerBtns","getElementsByClassName","target","style","display","addBike","querySelector","start","getElementById","kbBtns","querySelectorAll","overlay","classList","add","innerText","body","appendChild","onkeypress","setPlayerKey","removeChild","loadImage","image","IMAGES","load","easeInOut"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/main.js\");\n","import {easeInOut} from \"./math.js\"\r\nexport default class Bike {\r\n    constructor(color = \"red\") {\r\n        this.color = color;\r\n        this.speed = 3;\r\n        this.active = false;\r\n        this.angle = 3 * Math.PI / 180;\r\n        this.rotation = 0;\r\n        this.x = 300;\r\n        this.y = 250;\r\n        this.leftTurnKey = false;\r\n        this.mark = [];\r\n        this.img = new Image();\r\n        this.img.src = \"images/\" + this.color + \".png\";\r\n    }\r\n    move() {\r\n        if (this.active) {\r\n            this.mark.push({\r\n                x: this.x,\r\n                y: this.y\r\n            });\r\n            if (this.mark.length > 100) {\r\n                this.mark.shift();\r\n            }\r\n            let dx = this.speed * Math.cos(this.rotation);\r\n            let dy = this.speed * Math.sin(this.rotation);\r\n            this.x = this.x + dx;\r\n            this.y = this.y + dy;\r\n        }\r\n    }\r\n    checkCollsion(width, height) {\r\n        if (this.active) {\r\n            if (this.y < 1 || this.y > height) {\r\n                return true;\r\n            }\r\n            if (this.x > width * 0.25 && this.x < width * 0.75) {\r\n                if (this.y > height * 0.35 && this.y < height * 0.65) return true;\r\n            } else if (this.x <= width * 0.25) {\r\n                let distance = Math.sqrt((Math.pow((this.x - width * 0.25), 2) + Math.pow((this.y - height * 0.5), 2)));\r\n                if (distance > height * 0.5 || distance < height * 0.15) return true;\r\n            } else if (this.x >= width * 0.75) {\r\n                let distance = Math.sqrt((Math.pow((this.x - width * 0.75), 2) + Math.pow((this.y - height * 0.5), 2)));\r\n                if (distance > height * 0.5 || distance < height * 0.15) return true;\r\n            }\r\n        }\r\n    }\r\n    checkLap(){\r\n        if(this.active && this.speed > 0){\r\n            return (this.x > 300 && this.x <= (300 + this.speed) && this.y > 150)\r\n        }\r\n    }\r\n    draw(ctx) {\r\n        if (this.active) {\r\n            // ctx.beginPath();\r\n            // ctx.fillStyle = this.color;\r\n            // ctx.arc(this.x, this.y, 5, 0, 2 * Math.PI);\r\n            // ctx.fill();\r\n            //console.log(this.)\r\n            if (this.speed > 0 && this.mark.length > 0) {\r\n                let j = 0;\r\n                for (let i = this.mark.length - 1; i >= 0; i--) {\r\n                    ctx.beginPath();                    \r\n                    let alpha = easeInOut(j * 0.01) - 1;                    \r\n                    ctx.fillStyle = \"rgba(0,0,0,\" + alpha + \")\";\r\n                    ctx.arc(this.mark[i].x, this.mark[i].y, 5, 0, 2 * Math.PI);\r\n                    ctx.fill();\r\n                    j++;\r\n                }\r\n            }\r\n            ctx.save();\r\n            ctx.translate(this.x, this.y);\r\n            ctx.rotate(this.rotation);\r\n            ctx.drawImage(this.img, -22, -12, 45, 24);\r\n            ctx.restore();\r\n\r\n        }\r\n    }\r\n}","import Bike from \"./Bike.js\";\r\nimport Keyboard from \"./Keyboard.js\";\r\n\r\nfunction endGame(color, ctx, all = false) {\r\n    ctx.fillStyle = \"rgba(0,0,0, 0.5)\"\r\n    ctx.fillRect(0, 0, 600, 300)\r\n    ctx.fillStyle = \"red\";\r\n    if (all) {\r\n        ctx.fillText(\"Nikt nie wygrał XD\", 300, 150);\r\n        return;\r\n    }\r\n    let c = \"czerwony\";\r\n    switch (color) {\r\n        case \"gold\":\r\n            {\r\n                c = \"żółty\";\r\n                break;\r\n            }\r\n        case \"limegreen\":\r\n            {\r\n                c = \"zielony\";\r\n                break;\r\n            }\r\n        case \"blue\":\r\n            {\r\n                c = \"niebieski\";\r\n                break;\r\n            }\r\n    }\r\n    ctx.fillText(\"Zwycięzył gracz \" + c + \"! Gratulacje!\", 300, 150);\r\n}\r\nexport default class Game {\r\n    constructor(ctx, playfield) {\r\n        this.ctx = ctx;\r\n        this.playfield = playfield;\r\n        this.bikes = [];\r\n        this.input = new Keyboard();\r\n        this.laps = 4;\r\n        this.colors = [];\r\n    }\r\n    start() {\r\n        if (this.bikes.length) {\r\n            this.input.listenTo(window);\r\n            let bikes = this.bikes;\r\n            let playfield = this.playfield;\r\n            let ctx = this.ctx;\r\n            let input = this.input;\r\n            let laps = this.laps;\r\n            let this_ = this;\r\n            let animation;\r\n            let dead = [];\r\n            let end = false;\r\n\r\n            function render() {\r\n                if (dead.length === bikes.length) {\r\n                    cancelAnimationFrame(animation);\r\n                    endGame(\"xd\", this_.ctx, true);\r\n                    return;\r\n                }\r\n                if (dead.length === bikes.length - 1 && bikes.length !== 1) {\r\n                    dead.forEach(bike => {\r\n                        if (this_.colors.indexOf(bike.color) !== -1) {\r\n                            this_.colors.splice(this_.colors.indexOf(bike.color), 1);\r\n                        }\r\n                    })\r\n                    cancelAnimationFrame(animation);\r\n                    endGame(this_.colors[0], this_.ctx)\r\n                    return;\r\n                }\r\n\r\n                playfield.draw(this_.laps);\r\n                bikes.forEach(bike => {\r\n                    if (bike.speed > 0) {\r\n                        let left = input.keyStates.get(bike.leftTurnKey) * -1;\r\n                        bike.rotation += bike.angle * (left ? left : 0);\r\n                        bike.move();\r\n                        if (bike.checkLap()) {\r\n                            bike.lapsLeft--;\r\n                            if (bike.lapsLeft === 0) {\r\n                                bikes.forEach(bike => {\r\n                                    bike.speed = 0;\r\n                                })\r\n                                cancelAnimationFrame(animation);\r\n                                endGame(bike.color, this_.ctx);\r\n                                end = true;\r\n                                return;\r\n                            }\r\n\r\n                            if (bike.lapsLeft < this_.laps) this_.laps = bike.lapsLeft;\r\n                        }\r\n                        if (!bike.checkCollsion(600, 300)) {\r\n                            bike.draw(ctx);\r\n                        } else {\r\n                            if (bike.speed > 0) {\r\n                                dead.push(bike);\r\n                            }\r\n                            bike.speed = 0;\r\n                            bike.draw(ctx);\r\n                            return;\r\n                        }\r\n                    } else {\r\n                        bike.draw(ctx);\r\n                    }\r\n\r\n                });\r\n                if (!end) animation = requestAnimationFrame(render);\r\n            }\r\n            render();\r\n        }\r\n    }\r\n    addBike(color) {\r\n        let bike = new Bike(color);\r\n        this.bikes.push(bike);\r\n        this.colors.push(color);\r\n        bike.y = 200 + 20 * this.bikes.length;\r\n        bike.x = 278;\r\n        bike.lapsLeft = this.laps + 1;\r\n        bike.active = true;\r\n        bike.draw(this.ctx);\r\n    }\r\n    setPlayerKey(color, key) {\r\n        let bike = this.bikes.find(bike => bike.color === color);\r\n        if (bike) {\r\n            if (this.input.addKey(key)) {\r\n                bike.leftTurnKey = key;\r\n                return true;\r\n            } else return false;\r\n        }\r\n    }\r\n}","export default class Keyboard {\r\n    constructor() {\r\n        this.keyStates = new Map();\r\n        this.assignedKeys = new Map();\r\n    }\r\n    addKey(key) {\r\n        if (!this.assignedKeys.has(key)) {\r\n            this.assignedKeys.set(key, 1);\r\n            this.keyStates.set(key, 0);\r\n            return true;\r\n        } else {\r\n            window.alert(\"Ten klawisz jest zajęty\");\r\n            return false;\r\n        }\r\n\r\n    }\r\n    handleEvent(e) {\r\n        const key = e.code;        \r\n        if (!this.assignedKeys.has(key)) {\r\n            return;\r\n        }\r\n        e.preventDefault();\r\n\r\n        const keyState = e.type === 'keydown' ? 1 : 0;\r\n        if (this.keyStates.get(key) === keyState) return;\r\n        this.keyStates.set(key, keyState);        \r\n\r\n    }\r\n    listenTo(window) {\r\n        ['keydown', 'keyup'].forEach(eName => {\r\n            window.addEventListener(eName, e => {\r\n                this.handleEvent(e);\r\n            });\r\n        });\r\n\r\n    }\r\n}","import {\r\n    loadImage\r\n} from \"./loaders.js\";\r\nexport default class Playfield {\r\n    constructor(ctx, canvas, urls) {\r\n        this.buffer = document.createElement('canvas');\r\n        this.buffer.width = canvas.width;\r\n        this.buffer.height = canvas.height;\r\n        this.urls = urls;\r\n        this.ctx = ctx;\r\n        this.canvas = canvas;\r\n        this.imgs = [];\r\n    }\r\n    load() {\r\n        let images = [];\r\n        this.urls.forEach(url => {\r\n            images.push(loadImage(url))\r\n        })\r\n        return new Promise(resolve => {\r\n            Promise.all(images).then((imgs) => {\r\n                this.imgs = imgs;\r\n                this.createBuffer();\r\n                this.draw()\r\n                resolve();\r\n            });\r\n        })\r\n    }\r\n    draw(laps = 4) {\r\n        this.ctx.drawImage(this.buffer, 0, 0);\r\n        this.ctx.font = \"20px Comic Sans MS\";\r\n        this.ctx.fillStyle = \"black\"\r\n        this.ctx.textAlign = \"center\";\r\n        if(laps > 1) this.ctx.fillText(\"Pozostałe okrążenia: \" + laps, 300, 150);\r\n        else this.ctx.fillText(\"Ostatnie okrążenie!\", 300, 150);\r\n        \r\n    }\r\n    createBuffer() {\r\n        const ctx = this.buffer.getContext('2d');\r\n        const grass = ctx.createPattern(this.imgs[0], \"repeat\");\r\n        const dirt = ctx.createPattern(this.imgs[1], \"repeat\");\r\n        const finish = ctx.createPattern(this.imgs[2], \"repeat\");\r\n        this.drawBackground(ctx, grass);\r\n        this.drawTrack(ctx, dirt, grass, finish);\r\n    }\r\n    drawBackground(ctx, pattern) {\r\n        ctx.rect(0, 0, this.buffer.width, this.buffer.height);\r\n        ctx.fillStyle = pattern;\r\n        ctx.fill();\r\n    }\r\n    drawTrack(ctx, pattern, bg, finish) {\r\n        let width = this.buffer.width;\r\n        let height = this.buffer.height;\r\n        ctx.lineWidth = 3;\r\n        ctx.beginPath();\r\n        ctx.moveTo(width * 0.25, height);\r\n        ctx.lineTo(width * 0.75, height)\r\n        ctx.arc(width * 0.75, height * 0.5, height * 0.5, Math.PI / 2, 3 * Math.PI / 2, true);\r\n        ctx.lineTo(width * 0.25, 0);\r\n        ctx.arc(width * 0.25, height * 0.5, height * 0.5, 3 * Math.PI / 2, Math.PI / 2, true);\r\n        ctx.fillStyle = pattern;\r\n        ctx.closePath();\r\n        ctx.fill();\r\n        ctx.stroke();\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(width * 0.25, height * 0.65);\r\n        ctx.lineTo(width * 0.75, height * 0.65);\r\n        ctx.arc(width * 0.75, height * 0.5, height * 0.15, Math.PI / 2, 3 * Math.PI / 2, true);\r\n        ctx.lineTo(width * 0.25, height * 0.35);\r\n        ctx.arc(width * 0.25, height * 0.5, height * 0.15, 3 * Math.PI / 2, Math.PI / 2, true);\r\n        ctx.closePath();\r\n        ctx.fillStyle = bg;\r\n        ctx.fill();\r\n        ctx.stroke();\r\n\r\n        ctx.fillStyle = finish;\r\n        ctx.fillRect(width * 0.5, height * 0.65, 20, height * 0.35);\r\n\r\n    }\r\n}","function getColor(el) {\r\n    let playerNum = el.parentNode.parentNode.className.split('-')[1];\r\n    let color;\r\n    switch (playerNum) {\r\n        case \"1\":\r\n            {\r\n                color = \"red\";\r\n                break;\r\n            }\r\n        case \"2\":\r\n            {\r\n                color = \"blue\";\r\n                break;\r\n            }\r\n        case \"3\":\r\n            {\r\n                color = \"limegreen\";\r\n                break;\r\n            }\r\n        case \"4\":\r\n            {\r\n                color = \"gold\";\r\n                break;\r\n            }\r\n    }\r\n    return color;\r\n}\r\n\r\nexport default function ui(game) {\r\n    let addPlayerBtns = document.getElementsByClassName('add-player');\r\n    for (let i = 0; i < addPlayerBtns.length; i++) {\r\n        addPlayerBtns[i].addEventListener('click', e => {\r\n            e.target.parentNode.style.display = \"none\";\r\n            game.addBike(getColor(e.target));\r\n        });\r\n    }\r\n    document.querySelector(\".start-game\").addEventListener(\"click\", (e) => {\r\n        game.start();\r\n        e.target.style.display = \"none\";\r\n        document.getElementById(\"players-wrapper\").style.display = \"none\";\r\n    });\r\n    let kbBtns = document.querySelectorAll('button[class^=\"turn\"]')\r\n    for (let i = 0; i < kbBtns.length; i++) {\r\n        kbBtns[i].addEventListener(\"click\", e => {\r\n            let overlay = document.createElement('div');\r\n            overlay.classList.add('press-key');\r\n            overlay.innerText = \"Wciśnij klawisz\";\r\n            document.body.appendChild(overlay);\r\n            let color = getColor(e.target);\r\n            document.onkeypress = e => {\r\n                e.preventDefault();\r\n                if (game.setPlayerKey(color, e.code)) {\r\n                    kbBtns[i].innerText = e.code;\r\n                }\r\n                document.body.removeChild(overlay);\r\n                document.onkeypress = () => {}\r\n            }\r\n        })\r\n    }\r\n}","export function loadImage(url){\r\n    return new Promise(resolve =>{\r\n        const image = new Image();\r\n        image.addEventListener('load', () =>{\r\n            resolve(image);\r\n        });\r\n        image.src = url;\r\n    })\r\n}","import Playfield from \"./Playfield.js\";\r\nimport Game from \"./Game.js\";\r\nimport ui from \"./UI.js\";\r\n\r\nconst IMAGES = ['images/grass.jpg', 'images/dirt.jpg','images/meta.jpg','images/blue.png','images/limegreen.png','images/red.png', 'images/gold.png'];\r\n\r\ndocument.addEventListener('DOMContentLoaded', e => {    \r\n    const canvas = document.getElementById(\"screen\");\r\n    const ctx = canvas.getContext(\"2d\");    \r\n    const playfield = new Playfield(ctx, canvas, IMAGES)   \r\n    playfield.load().then(() => {        \r\n        const game = new Game(ctx, playfield);\r\n        ui(game);\r\n    })\r\n});","export function easeInOut(x){\r\n    return (x*x) / (x*x) + (1-x)* (1-x);\r\n}"],"sourceRoot":""}